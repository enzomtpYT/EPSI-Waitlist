{% extends "base.html" %}

{% block title %}Admin - Modifier Intervenant{% endblock %}

{% block content %}
<h1>Intervenant : {{ participant.name_participant }}</h1>

<div class="admin-section">
    <h2>Modifier les informations de l'intervenant</h2>
    <form action="{{ url_for('participant.edit_participant', id_participant=participant.id_participant) }}" method="post">

        <label for="participant_name">Nom :</label>
        <input type="text" id="participant_name" name="participant_name" value="{{ participant.name_participant }}">

        <label for="participant_email">E-mail :</label>
        <input type="email" id="participant_email" name="participant_email" value="{{ participant.email_participant }}">

        <button type="submit">Enregistrer</button>
    </form>
</div>

<div class="admin-section">
    <h2>Tags de l'intervenant</h2>
    <ul>
        {% for tag in participant_tags %}
        <li>
            {{ tag.name_tag }}
            <form action="{{ url_for('participant.remove_tag_participant', id_participant=participant.id_participant, id_tag=tag.id_tag) }}" method="post" style="display:inline;">
                <button type="submit">-</button>
            </form>
        </li>
        {% endfor %}
    </ul>
</div>

<div class="admin-section">
    <h2>Ajouter un tag</h2>
    <form action="{{ url_for('participant.add_tag_participant', id_participant=participant.id_participant) }}" method="post">
        <label for="tag">Tag :</label>
        <select id="tag" name="tag">
            {% for tag in tags %}
            <option value="{{ tag.id_tag }}">{{ tag.name_tag }}</option>
            {% endfor %}
        </select>
        <button type="submit" name="add_tag">Ajouter</button>
    </form>
</div>

<div class="admin-section">
    <h2>Liste des entretiens</h2>
    {% if interviews %}
    <table>
        <thead>
            <tr>
                <th>Événement</th>
                <th>Date</th>
                <th>Candidat</th>
            </tr>
        </thead>
        <tbody>
            {% for interview in interviews %}
            <tr>
                <td>{{ interview.name_event }}</td>
                <td>{{ interview.date_event }}</td>
                <td>{{interview.name_candidate}} {{ interview.lastname_candidate }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>Aucun entretien trouvé pour cet intervenant.</p>
    {% endif %}
</div>

<div class="admin-section">
    <h2>Supprimer l'intervenant</h2>
    <form action="/admin/manage_participant/{{ participant.id_participant }}/delete" method="post">
        <button class="delete" type="submit" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cet intervenant ?');">Supprimer</button>
    </form>
</div>

{% endblock %}